<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1440">
    <title>Калькулятор доставки - Incoflores</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="catalog.css">
    <style>
        .calculator-container {
            width: 1440px;
            margin: 0 auto;
            background-color: #fff;
            padding-top: 140px;
        }

        .calculator-header {
            padding: 40px 140px 30px;
        }

        .calculator-title {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            font-size: 42px;
            line-height: 54px;
            color: #222222;
            margin: 0 0 10px;
        }

        .calculator-breadcrumbs {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 40px;
        }

        .calculator-breadcrumbs a {
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            color: #222222;
            text-decoration: none;
        }

        .calculator-breadcrumbs a:hover {
            text-decoration: underline;
        }

        .calculator-breadcrumbs span {
            color: #858585;
        }

        .calculator-content {
            padding: 0 140px 60px;
        }

        .calculator-form-wrapper {
            background: #FAFAFA;
            border-radius: 8px;
            padding: 40px;
            max-width: 900px;
        }

        .form-title {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            font-size: 28px;
            color: #222222;
            margin: 0 0 10px;
        }

        .form-subtitle {
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            color: #666666;
            margin: 0 0 30px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            color: #222222;
            margin-bottom: 8px;
        }

        .form-select,
        .form-input {
            width: 100%;
            padding: 14px 16px;
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            color: #222222;
            border: 1px solid #E0E0E0;
            border-radius: 6px;
            background-color: #FFFFFF;
            outline: none;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        .form-select:focus,
        .form-input:focus {
            border-color: #DA6561;
        }

        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%23666' d='M6 8L0 0h12z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        .form-input {
            max-width: 200px;
        }

        .form-hint {
            font-family: 'Arial', sans-serif;
            font-size: 14px;
            color: #888888;
            margin-top: 6px;
        }

        .form-row {
            display: flex;
            gap: 24px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .btn-calculate {
            display: inline-block;
            padding: 16px 40px;
            background-color: #DA6561;
            color: #FFFFFF;
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn-calculate:hover {
            background-color: #C45550;
        }

        .btn-calculate:active {
            transform: scale(0.98);
        }

        .result-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #E0E0E0;
            display: none;
        }

        .result-section.active {
            display: block;
        }

        .result-summary {
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            color: #2E7D32;
            margin-bottom: 20px;
            padding: 15px;
            background: #E8F5E9;
            border-radius: 6px;
        }

        .result-title {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            font-size: 20px;
            color: #222222;
            margin: 0 0 15px;
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .result-table th,
        .result-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #E0E0E0;
            font-family: 'Arial', sans-serif;
            font-size: 15px;
        }

        .result-table th {
            background: #F5F5F5;
            font-weight: 600;
            color: #333;
        }

        .result-table td:last-child {
            text-align: right;
            font-weight: 500;
        }

        .result-table tr:last-child td {
            border-bottom: none;
            font-weight: 700;
            background: #FFF8F5;
        }

        .result-table tr:last-child td:last-child {
            color: #DA6561;
            font-size: 18px;
        }

        .info-section {
            margin-top: 30px;
            padding: 25px;
            background: #FFF8F5;
            border-left: 4px solid #DA6561;
            border-radius: 0 6px 6px 0;
        }

        .info-title {
            font-family: 'Playfair Display', serif;
            font-size: 18px;
            color: #222222;
            margin: 0 0 12px;
        }

        .info-text {
            font-family: 'Arial', sans-serif;
            font-size: 14px;
            color: #666666;
            line-height: 1.6;
            margin: 0;
        }

        .info-text ul {
            margin: 10px 0 0;
            padding-left: 20px;
        }

        .info-text li {
            margin-bottom: 6px;
        }

        .airport-hint {
            font-size: 13px;
            color: #888;
            margin-top: 4px;
        }
    </style>
</head>

<body>
    <div class="page">
        <!-- Header -->
        <header class="header header-catalog">
            <div class="header-container">
                <a href="index.html" class="logo">
                    <img src="https://www.figma.com/api/mcp/asset/071aae46-e8d5-45dc-9ae1-9eb613474f81" alt="Incoflores"
                        class="logo-img">
                </a>
                <nav class="nav nav-catalog">
                    <a href="index.html#services" class="nav-link">Наши услуги</a>
                    <a href="flowercatalog.html" class="nav-link">Каталог цветов</a>
                    <a href="index.html#about" class="nav-link">О нас</a>
                    <a href="index.html#contacts" class="nav-link">Контакты</a>
                </nav>
            </div>
        </header>

        <!-- Calculator Content -->
        <div class="calculator-container">
            <div class="calculator-header">
                <div class="calculator-breadcrumbs">
                    <a href="index.html">Incoflores</a>
                    <span>/</span>
                    <span>Калькулятор доставки</span>
                </div>
                <h1 class="calculator-title">Калькулятор авиадоставки</h1>
            </div>

            <div class="calculator-content">
                <div class="calculator-form-wrapper">
                    <h2 class="form-title">Расчет стоимости авиадоставки</h2>
                    <p class="form-subtitle">Заполните необходимые поля, чтобы рассчитать стоимость авиадоставки.</p>

                    <form id="calculatorForm">
                        <div class="form-group">
                            <label class="form-label">Вылет из Москвы в:</label>
                            <select class="form-select" id="citySelect" required>
                                <option value="">-- Выберите город --</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Аэропорт:</label>
                            <select class="form-select" id="airportSelect" disabled>
                                <option value="">Список аэропортов появится после выбора города</option>
                            </select>
                            <p class="airport-hint">Разные аэропорты/авиакомпании имеют разные тарифы</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Количество коробок (1 коробка = 35кг):</label>
                            <input type="number" class="form-input" id="boxCount" min="1" max="100" value="1" required>
                        </div>

                        <button type="submit" class="btn-calculate">Рассчитать</button>
                    </form>

                    <div class="result-section" id="resultSection">
                        <p class="result-summary" id="resultSummary"></p>
                        
                        <h3 class="result-title">Детализация суммы доставки:</h3>
                        <table class="result-table">
                            <thead>
                                <tr>
                                    <th>№</th>
                                    <th>Услуга</th>
                                    <th>Стоимость, руб.</th>
                                </tr>
                            </thead>
                            <tbody id="resultTableBody">
                            </tbody>
                        </table>
                    </div>

                    <div class="info-section">
                        <h4 class="info-title">Условия и расчет доставки:</h4>
                        <p class="info-text">
                            Расчет стоимости доставки Предварительный. Доставка товара осуществляется при закупке от 20 000 руб.
                            <ul>
                                <li>Доставка осуществляется авиатранспортом из Москвы</li>
                                <li>1 коробка = 35 кг цветочной продукции</li>
                                <li>Цена может меняться в зависимости от актуальных тарифов авиакомпаний</li>
                                <li>Доставка в Калининград: + сборы 13 руб./кг</li>
                            </ul>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer footer-catalog">
            <div class="footer-content">
                <p class="footer-copyright">© All Rights Reserved. Acme Inc.</p>
                <div class="footer-social">
                    <a href="https://www.facebook.com/groups/incoflores" class="social-link" target="_blank">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.716 0 0 6.716 0 15C0 23.284 6.716 30 15 30C23.284 30 30 23.284 30 15C30 6.716 23.284 0 15 0ZM18.75 10H17.03C16.49 10 16.25 10.41 16.25 10.93V12.5H18.75L18.44 15H16.25V23.75H12.5V15H10V12.5H12.5V10.31C12.5 7.93 13.72 6.25 16.56 6.25H18.75V10Z" fill="#DA6561"/>
                        </svg>
                    </a>
                    <a href="https://vk.com/incoflores" class="social-link" target="_blank">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.716 0 0 6.716 0 15C0 23.284 6.716 30 15 30C23.284 30 30 23.284 30 15C30 6.716 23.284 0 15 0ZM22.19 16.72C22.19 16.72 23.41 17.92 23.72 18.5C23.73 18.51 23.74 18.53 23.75 18.55C23.88 18.77 23.91 18.94 23.85 19.07C23.75 19.27 23.38 19.37 23.25 19.38H20.68C20.52 19.38 20.17 19.34 19.75 19.03C19.42 18.79 19.1 18.39 18.79 18C18.32 17.41 17.92 16.91 17.5 16.91C17.45 16.91 17.4 16.92 17.35 16.93C17.04 17.02 16.63 17.46 16.63 18.72C16.63 19.11 16.32 19.38 16.11 19.38H14.94C14.61 19.38 12.92 19.26 11.42 17.68C9.59 15.75 7.94 11.86 7.93 11.82C7.81 11.53 8.03 11.37 8.28 11.37H10.88C11.22 11.37 11.34 11.57 11.43 11.77C11.53 12 11.91 12.95 12.49 13.95C13.42 15.54 13.97 16.12 14.38 16.12C14.46 16.12 14.54 16.1 14.61 16.05C15.16 15.72 15.04 13.56 15.01 13.08C15.01 13 15.01 12.28 14.75 11.93C14.56 11.68 14.24 11.58 14.04 11.55C14.12 11.43 14.25 11.26 14.42 11.15C14.74 10.93 15.28 10.89 15.82 10.89H16.24C16.83 10.9 16.98 10.93 17.19 10.98C17.62 11.08 17.63 11.36 17.58 12.37C17.57 12.56 17.55 12.78 17.55 13.03C17.54 13.31 17.53 13.62 17.56 13.94C17.57 14.03 17.58 14.12 17.6 14.21C17.67 14.63 17.81 14.88 18.1 14.88C18.16 14.88 18.23 14.87 18.3 14.84C18.61 14.72 19.14 14.17 19.66 13.29C20.02 12.67 20.43 11.85 20.63 11.4C20.67 11.32 20.74 11.22 20.82 11.15C20.9 11.09 20.99 11.06 21.1 11.05H23.82C24.17 11.05 24.41 11.1 24.47 11.24C24.58 11.47 24.47 12.15 23.13 14.01L22.5 14.85C21.29 16.48 21.29 16.57 22.19 16.72Z" fill="#DA6561"/>
                        </svg>
                    </a>
                    <a href="https://www.instagram.com/vorobyeva_incoflores" class="social-link" target="_blank">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 0C6.716 0 0 6.716 0 15C0 23.284 6.716 30 15 30C23.284 30 30 23.284 30 15C30 6.716 23.284 0 15 0ZM15 7.5C16.95 7.5 17.19 7.51 17.99 7.55C20.34 7.66 21.35 8.69 21.46 11.02C21.5 11.81 21.5 12.06 21.5 14C21.5 15.95 21.49 16.19 21.46 16.99C21.35 19.31 20.35 20.35 17.99 20.46C17.19 20.5 16.95 20.51 15 20.51C13.06 20.51 12.81 20.5 12.02 20.46C9.65 20.35 8.66 19.31 8.55 16.99C8.51 16.19 8.5 15.95 8.5 14C8.5 12.06 8.51 11.81 8.55 11.02C8.66 8.69 9.66 7.66 12.02 7.55C12.81 7.51 13.06 7.5 15 7.5ZM15 8.93C13.09 8.93 12.86 8.94 12.07 8.98C10.59 9.05 9.84 9.81 9.77 11.32C9.73 12.1 9.72 12.34 9.72 14.25C9.72 16.16 9.73 16.4 9.77 17.18C9.84 18.69 10.59 19.45 12.07 19.52C12.86 19.56 13.09 19.57 15 19.57C16.91 19.57 17.15 19.56 17.93 19.52C19.41 19.45 20.17 18.69 20.24 17.18C20.28 16.4 20.29 16.16 20.29 14.25C20.29 12.34 20.28 12.1 20.24 11.32C20.17 9.81 19.41 9.05 17.93 8.98C17.15 8.94 16.91 8.93 15 8.93ZM15 10.57C13.03 10.57 11.43 12.17 11.43 14.14C11.43 16.11 13.03 17.71 15 17.71C16.97 17.71 18.57 16.11 18.57 14.14C18.57 12.17 16.97 10.57 15 10.57ZM15 16.5C13.7 16.5 12.65 15.45 12.65 14.14C12.65 12.84 13.7 11.79 15 11.79C16.3 11.79 17.35 12.84 17.35 14.14C17.35 15.45 16.3 16.5 15 16.5ZM18.7 9.67C18.26 9.67 17.9 10.03 17.9 10.47C17.9 10.91 18.26 11.27 18.7 11.27C19.14 11.27 19.5 10.91 19.5 10.47C19.5 10.03 19.14 9.67 18.7 9.67Z" fill="#DA6561"/>
                        </svg>
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Delivery data - cities with airports and tariffs
        const deliveryData = {
            "Абакан": [
                { airport: "Внуково (ДР)", tariff: 155 },
                { airport: "Шереметьево (5Н)", tariff: 160 }
            ],
            "Архангельск": [
                { airport: "Внуково (ДР)", tariff: 130 },
                { airport: "Шереметьево (СУ)", tariff: 135 }
            ],
            "Астрахань": [
                { airport: "Внуково (ДР)", tariff: 115 },
                { airport: "Домодедово (У6)", tariff: 120 }
            ],
            "Барнаул": [
                { airport: "Внуково (ДР)", tariff: 145 },
                { airport: "Шереметьево (5Н)", tariff: 150 },
                { airport: "Домодедово (У6)", tariff: 155 }
            ],
            "Благовещенск": [
                { airport: "Шереметьево (СУ)", tariff: 200 },
                { airport: "Домодедово (У6)", tariff: 210 }
            ],
            "Владивосток": [
                { airport: "Шереметьево (СУ)", tariff: 195 },
                { airport: "Домодедово (У6)", tariff: 200 },
                { airport: "Внуково (ДР)", tariff: 190 }
            ],
            "Волгоград": [
                { airport: "Внуково (ДР)", tariff: 105 },
                { airport: "Домодедово (У6)", tariff: 110 }
            ],
            "Екатеринбург": [
                { airport: "Внуково (ДР)", tariff: 116 },
                { airport: "Шереметьево (5Н)", tariff: 120 },
                { airport: "Домодедово (У6)", tariff: 125 },
                { airport: "Шереметьево (ДР)", tariff: 127 },
                { airport: "Шереметьево (СУ)", tariff: 131 }
            ],
            "Ижевск": [
                { airport: "Внуково (ДР)", tariff: 120 },
                { airport: "Домодедово (У6)", tariff: 125 }
            ],
            "Иркутск": [
                { airport: "Внуково (ДР)", tariff: 165 },
                { airport: "Шереметьево (СУ)", tariff: 170 },
                { airport: "Домодедово (У6)", tariff: 175 }
            ],
            "Казань": [
                { airport: "Внуково (ДР)", tariff: 105 },
                { airport: "Шереметьево (5Н)", tariff: 110 },
                { airport: "Домодедово (У6)", tariff: 112 }
            ],
            "Калининград": [
                { airport: "Внуково (ДР)", tariff: 115 },
                { airport: "Шереметьево (СУ)", tariff: 120 }
            ],
            "Кемерово": [
                { airport: "Внуково (ДР)", tariff: 150 },
                { airport: "Шереметьево (5Н)", tariff: 155 }
            ],
            "Краснодар": [
                { airport: "Внуково (ДР)", tariff: 95 },
                { airport: "Домодедово (У6)", tariff: 100 },
                { airport: "Шереметьево (СУ)", tariff: 105 }
            ],
            "Красноярск": [
                { airport: "Внуково (ДР)", tariff: 155 },
                { airport: "Шереметьево (5Н)", tariff: 160 },
                { airport: "Домодедово (У6)", tariff: 165 }
            ],
            "Магнитогорск": [
                { airport: "Внуково (ДР)", tariff: 125 },
                { airport: "Домодедово (У6)", tariff: 130 }
            ],
            "Минеральные Воды": [
                { airport: "Внуково (ДР)", tariff: 100 },
                { airport: "Домодедово (У6)", tariff: 105 }
            ],
            "Мурманск": [
                { airport: "Шереметьево (СУ)", tariff: 140 },
                { airport: "Внуково (ДР)", tariff: 145 }
            ],
            "Нижний Новгород": [
                { airport: "Внуково (ДР)", tariff: 100 },
                { airport: "Шереметьево (5Н)", tariff: 105 },
                { airport: "Домодедово (У6)", tariff: 108 }
            ],
            "Новосибирск": [
                { airport: "Внуково (ДР)", tariff: 140 },
                { airport: "Шереметьево (5Н)", tariff: 145 },
                { airport: "Домодедово (У6)", tariff: 150 },
                { airport: "Шереметьево (СУ)", tariff: 152 }
            ],
            "Омск": [
                { airport: "Внуково (ДР)", tariff: 135 },
                { airport: "Шереметьево (5Н)", tariff: 140 }
            ],
            "Оренбург": [
                { airport: "Внуково (ДР)", tariff: 115 },
                { airport: "Домодедово (У6)", tariff: 120 }
            ],
            "Пермь": [
                { airport: "Внуково (ДР)", tariff: 118 },
                { airport: "Шереметьево (5Н)", tariff: 122 },
                { airport: "Домодедово (У6)", tariff: 125 }
            ],
            "Ростов-на-Дону": [
                { airport: "Внуково (ДР)", tariff: 98 },
                { airport: "Домодедово (У6)", tariff: 103 },
                { airport: "Шереметьево (СУ)", tariff: 108 }
            ],
            "Самара": [
                { airport: "Внуково (ДР)", tariff: 108 },
                { airport: "Шереметьево (5Н)", tariff: 112 },
                { airport: "Домодедово (У6)", tariff: 115 }
            ],
            "Санкт-Петербург": [
                { airport: "Внуково (ДР)", tariff: 85 },
                { airport: "Шереметьево (СУ)", tariff: 90 },
                { airport: "Домодедово (У6)", tariff: 92 }
            ],
            "Саратов": [
                { airport: "Внуково (ДР)", tariff: 110 },
                { airport: "Домодедово (У6)", tariff: 115 }
            ],
            "Сочи": [
                { airport: "Внуково (ДР)", tariff: 100 },
                { airport: "Домодедово (У6)", tariff: 105 },
                { airport: "Шереметьево (СУ)", tariff: 108 }
            ],
            "Ставрополь": [
                { airport: "Внуково (ДР)", tariff: 102 },
                { airport: "Домодедово (У6)", tariff: 107 }
            ],
            "Сургут": [
                { airport: "Внуково (ДР)", tariff: 145 },
                { airport: "Шереметьево (5Н)", tariff: 150 },
                { airport: "Домодедово (У6)", tariff: 155 }
            ],
            "Томск": [
                { airport: "Внуково (ДР)", tariff: 148 },
                { airport: "Шереметьево (5Н)", tariff: 153 }
            ],
            "Тюмень": [
                { airport: "Внуково (ДР)", tariff: 130 },
                { airport: "Шереметьево (5Н)", tariff: 135 },
                { airport: "Домодедово (У6)", tariff: 140 }
            ],
            "Улан-Удэ": [
                { airport: "Шереметьево (СУ)", tariff: 175 },
                { airport: "Домодедово (У6)", tariff: 180 }
            ],
            "Ульяновск": [
                { airport: "Внуково (ДР)", tariff: 112 },
                { airport: "Домодедово (У6)", tariff: 117 }
            ],
            "Уфа": [
                { airport: "Внуково (ДР)", tariff: 115 },
                { airport: "Шереметьево (5Н)", tariff: 120 },
                { airport: "Домодедово (У6)", tariff: 123 }
            ],
            "Хабаровск": [
                { airport: "Шереметьево (СУ)", tariff: 190 },
                { airport: "Домодедово (У6)", tariff: 195 }
            ],
            "Челябинск": [
                { airport: "Внуково (ДР)", tariff: 120 },
                { airport: "Шереметьево (5Н)", tariff: 125 },
                { airport: "Домодедово (У6)", tariff: 128 }
            ],
            "Чита": [
                { airport: "Шереметьево (СУ)", tariff: 180 },
                { airport: "Домодедово (У6)", tariff: 185 }
            ],
            "Южно-Сахалинск": [
                { airport: "Шереметьево (СУ)", tariff: 210 },
                { airport: "Домодедово (У6)", tariff: 215 }
            ],
            "Якутск": [
                { airport: "Шереметьево (СУ)", tariff: 195 },
                { airport: "Домодедово (У6)", tariff: 200 }
            ]
        };

        // Fixed costs
        const DELIVERY_TO_AIRPORT = 1990; // руб.
        const DOCUMENTS_FEE = 750; // руб.
        const BOX_WEIGHT = 35; // кг

        // DOM elements
        const citySelect = document.getElementById('citySelect');
        const airportSelect = document.getElementById('airportSelect');
        const boxCount = document.getElementById('boxCount');
        const form = document.getElementById('calculatorForm');
        const resultSection = document.getElementById('resultSection');

        // Populate cities dropdown
        function populateCities() {
            const cities = Object.keys(deliveryData).sort();
            cities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
            });
        }

        // Update airports when city changes
        citySelect.addEventListener('change', function() {
            const city = this.value;
            airportSelect.innerHTML = '';
            
            if (city && deliveryData[city]) {
                airportSelect.disabled = false;
                deliveryData[city].forEach((item, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${item.airport} - ${item.tariff} руб./кг.`;
                    airportSelect.appendChild(option);
                });
            } else {
                airportSelect.disabled = true;
                const option = document.createElement('option');
                option.value = '';
                option.textContent = 'Список аэропортов появится после выбора города';
                airportSelect.appendChild(option);
            }
            
            // Hide results when city changes
            resultSection.classList.remove('active');
        });

        // Form submission
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const city = citySelect.value;
            const airportIndex = airportSelect.value;
            const boxes = parseInt(boxCount.value) || 1;
            
            if (!city || airportIndex === '') {
                alert('Пожалуйста, выберите город и аэропорт');
                return;
            }
            
            const airportData = deliveryData[city][airportIndex];
            const tariff = airportData.tariff;
            const airportName = airportData.airport;
            const totalWeight = boxes * BOX_WEIGHT;
            
            // Calculate costs
            const flightCost = tariff * totalWeight;
            const totalCost = DELIVERY_TO_AIRPORT + DOCUMENTS_FEE + flightCost;
            
            // Extra fee for Kaliningrad
            let extraFee = 0;
            let extraFeeText = '';
            if (city === 'Калининград') {
                extraFee = 13 * totalWeight;
                extraFeeText = `<tr><td>4</td><td>Сборы Калининград (13 руб./кг)</td><td>${extraFee.toLocaleString('ru-RU')}</td></tr>`;
            }
            
            const grandTotal = totalCost + extraFee;
            
            // Update summary
            document.getElementById('resultSummary').innerHTML = 
                `Авиадоставка из аэропорта ${airportName} (Москва) в <strong>${city}</strong> ` +
                `<strong>${boxes}</strong> коробки цветочной продукции будет стоить <strong>${grandTotal.toLocaleString('ru-RU')} руб.</strong>`;
            
            // Update table
            document.getElementById('resultTableBody').innerHTML = `
                <tr><td>1</td><td>Доставка в аэропорт</td><td>${DELIVERY_TO_AIRPORT.toLocaleString('ru-RU')}</td></tr>
                <tr><td>2</td><td>Оформление документов (авиа накладная)</td><td>${DOCUMENTS_FEE.toLocaleString('ru-RU')}</td></tr>
                <tr><td>3</td><td>Перелет (исходя из тарифа ${tariff} руб./кг.)</td><td>${flightCost.toLocaleString('ru-RU')}</td></tr>
                ${extraFeeText}
                <tr><td colspan="2"><strong>Итого:</strong></td><td>${grandTotal.toLocaleString('ru-RU')}</td></tr>
            `;
            
            // Show results
            resultSection.classList.add('active');
            resultSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        // Initialize
        populateCities();
    </script>
</body>

</html>
